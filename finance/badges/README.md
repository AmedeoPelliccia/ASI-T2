# Teknia Token Badges

This directory contains **generated badge artifacts** for the Teknia Token (TT) v3.14 system. These files are created by the `badge` command in `tools/tek_tokens.py` and should **not** be committed to git.

## Contents

* **`tt-balance.json`** — Shields.io endpoint JSON with current treasury balance
* **`tt-verified.svg`** — SVG badge showing treasury balance (default output)

## Purpose

Badges provide visual verification of the token system state:

* **Treasury Balance** — Shows current TT holdings in the TREASURY account
* **Verification Status** — Confirms ledger integrity and policy hash validation
* **Integration** — JSON endpoint enables Shields.io dynamic badges in documentation

## Generation

Badges are automatically generated by the `badge` command:

```bash
# Generate badge with default output (badges/tt-verified.svg)
python tools/tek_tokens.py badge

# Generate badge with custom output path
python tools/tek_tokens.py badge --out badges/my-badge.svg

# Badge generation includes:
# 1. SVG badge file (always created)
# 2. Shields.io JSON endpoint (if enabled in config)
```

## Configuration

Badge settings are defined in `finance/teknia.tokenomics.json`:

```json
{
  "badges": {
    "enabled": true,
    "path": "finance/badges/tt-balance.json",
    "label": "Teknia TT",
    "color": "blue"
  }
}
```

### Configuration Options

* **`enabled`** — Enable/disable Shields.io JSON endpoint generation
* **`path`** — Output path for the JSON endpoint file (relative to repo root)
* **`label`** — Badge label text (e.g., "Teknia TT")
* **`color`** — Badge color (Shields.io color names or hex codes)

## Shields.io Integration

The JSON endpoint follows the [Shields.io endpoint schema](https://shields.io/endpoint):

```json
{
  "schemaVersion": 1,
  "label": "Teknia TT",
  "message": "10,000.000 TT",
  "color": "blue"
}
```

Use in documentation:

```markdown
![Teknia TT Balance](https://img.shields.io/endpoint?url=https://raw.githubusercontent.com/AmedeoPelliccia/ASI-T2/main/finance/badges/tt-balance.json)
```

## Verification

Badge values are derived from verified ledger data:

1. **Ledger loaded** — Current account balances read from `finance/ledger.json`
2. **Treasury queried** — Balance of `TREASURY` account (or configured treasury)
3. **Conversion applied** — Balance in `deg` converted to `TT` (÷ 360)
4. **Output formatted** — Thousands separators added for readability

The `badge` command does **not** mutate the ledger—it only reads current state.

## CI/CD Integration

Badges can be automatically regenerated in CI workflows:

```yaml
- name: Generate token badges
  run: python tools/tek_tokens.py badge

- name: Commit badge updates
  run: |
    git add finance/badges/*.json
    git commit -m "Update token badges [skip ci]" || true
```

## File Lifecycle

* **Generated** — Created by `tek_tokens.py badge` command
* **Updated** — Reflects current ledger state when regenerated
* **Ignored** — Listed in `.gitignore` (if configured as generated artifacts)
* **Distributed** — Can be published via GitHub Pages or raw.githubusercontent.com

## Related Documentation

* **[Token System Overview](../README.md)** — Teknia Token v3.14 documentation
* **[CLI Tool](../../tools/README.md)** — `tek_tokens.py` command reference
* **[Token Economics](../teknia.tokenomics.json)** — Policy and configuration
* **[Verification](../../docs/TOKENS.md)** — Ledger verification and integrity

---

**Version:** 3.14 (π-tier hybrid tokenomics)  
**Generator:** `tools/tek_tokens.py badge`
